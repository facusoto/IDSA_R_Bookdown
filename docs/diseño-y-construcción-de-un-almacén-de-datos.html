<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 2 Diseño y construcción de un almacén de datos | Circular R</title>
<meta name="author" content="Instituto Data Science Argentina">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Capítulo 2 Diseño y construcción de un almacén de datos | Circular R">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 2 Diseño y construcción de un almacén de datos | Circular R">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link rel="shortcut icon" href="images/logos/icon.png">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
<meta name="description" content="2.1 Antecedentes Las organizaciones en general y las empresas en particular vienen generando crecientes volúmenes de datos, desde los tiempos en que las buenas prácticas ponían foco especialmente...">
<meta property="og:description" content="2.1 Antecedentes Las organizaciones en general y las empresas en particular vienen generando crecientes volúmenes de datos, desde los tiempos en que las buenas prácticas ponían foco especialmente...">
<meta name="twitter:description" content="2.1 Antecedentes Las organizaciones en general y las empresas en particular vienen generando crecientes volúmenes de datos, desde los tiempos en que las buenas prácticas ponían foco especialmente...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Circular R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Buscar" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Tabla de contenido</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introducción a los algoritmos</a></li>
<li><a class="active" href="dise%C3%B1o-y-construcci%C3%B3n-de-un-almac%C3%A9n-de-datos.html"><span class="header-section-number">2</span> Diseño y construcción de un almacén de datos</a></li>
<li><a class="" href="elementos-de-probabilidad-y-estad%C3%ADstica---parte-1.html"><span class="header-section-number">3</span> Elementos de probabilidad y estadística - Parte 1</a></li>
<li><a class="" href="elementos-de-probabilidad-y-estad%C3%ADstica---parte-2.html"><span class="header-section-number">4</span> Elementos de probabilidad y estadística - Parte 2</a></li>
<li><a class="" href="%C3%A1rboles-de-decisi%C3%B3n.html"><span class="header-section-number">5</span> Árboles de decisión</a></li>
<li><a class="" href="algoritmos-de-agrupamiento.html"><span class="header-section-number">6</span> Algoritmos de agrupamiento</a></li>
<li><a class="" href="reglas-de-asociaci%C3%B3n.html"><span class="header-section-number">7</span> Reglas de asociación</a></li>
<li><a class="" href="series_temporales.html"><span class="header-section-number">8</span> Series temporales</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/facusoto/IDSA_R_Bookdown">Ver código fuente <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="diseño-y-construcción-de-un-almacén-de-datos" class="section level1" number="2">
<h1>
<span class="header-section-number">Capítulo 2</span> Diseño y construcción de un almacén de datos<a class="anchor" aria-label="anchor" href="#dise%C3%B1o-y-construcci%C3%B3n-de-un-almac%C3%A9n-de-datos"><i class="fas fa-link"></i></a>
</h1>
<div id="antecedentes" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Antecedentes<a class="anchor" aria-label="anchor" href="#antecedentes"><i class="fas fa-link"></i></a>
</h2>
<p>Las organizaciones en general y las empresas en particular vienen generando crecientes volúmenes de datos, desde los tiempos en que las buenas prácticas ponían foco <strong>especialmente</strong> en asegurar el ahorro de espacio de almacenamiento ya que en aquél entonces los precios del espacio de almacenamiento eran prohibitivamente caros y se buscaba reducir la cantidad de datos y aumentar la eficiencia mediante el úso de las formas normales.</p>
<p>El cambio en los precios de almacenamiento y el creciente enfoque en el análisis de los datos vieron consigo un cambio en la forma de almacenar los datos, pasando de una organización utilizando sistemas transaccionales como CRM y LRP al Data warehouse. Esto trajo consigo un enfoque de <strong>desnormalización</strong> en los datos a almacenar, lo que quiere decir que mantuvo la redundancia de datos que son de grán valor para su análisis.</p>
<blockquote>
<p>Los sistemas transaccionales suelen guardar la última versión de la información correspondiente, en muchos casos se "pisan" los datos que pueden ser relevantes.
Por ejemplo, puede suceder que se registre que un cliente no tiene deuda, pero no se almacene información sobre si pagó en tiempo y forma, si pagó con retraso o si se le condonó la deuda por motivos impositivos.
Esto no ocurre con el DW ya que, desde esta perspectiva, la historia del cliente es importante y es por ello que se almacenan los datos de forma redundante.</p>
</blockquote>
<p>En el pasado, las empresas solían acumular la información de sus sistemas transaccionales en bases de datos relacionales y sin preocuparse demasiado por cómo se almacenaba la información. Esto resultaba en problemas a la hora de extraer información útil para la empresa, ya que la extracción de masiva de datos podía poner en riezgo las operaciónes cotidianas debido a sus exigencias en términos de recursos computacionales.</p>
<blockquote>
<p>Extraer datos masivos para analizar en los sistemas transaccionales implicaba el úso de muchos recursos, realizar esta tarea podía generar problemas de rendimiento en <strong>toda</strong> la plataforma!</p>
</blockquote>
<p>Debido a esto era común que se recomiende que los datos a analizar se movieran a un almacenamiento independiente, con ello agilizamos el análisis y evitamos interrupciones o problemas en las operaciones diarias.</p>
<p>Además, los operadores de los sistemas transaccionales se enfocaban en que el negocio siguiera su curso sin interrupciones, y no siempre prestaban la atención necesaria a la calidad de la información que introducían en los sistemas.</p>
<p>Estos problemas se traducían en datos incompletos, información en campos equivocados, y otras estructuras horizontales que dificultaban la tarea analítica. En resumen, el problema radicaba en la falta de una estructura de datos adecuada y en la falta de atención a la calidad de la información ingresada.</p>
<p>Resulta decepcionantemente común encontrarse con fenómenos del tipo:</p>
<blockquote>
<p>"Ah, antes del 2000 guardábamos el código postal en el campo observaciones"
"No, la localidad recién está normalizada desde el 2003, antes era un campo libre y para los clientes ya conocidos se dejaba en blanco"</p>
</blockquote>
<p>Muchos esfuerzos de análisis se estrellaron contra estos problemas. La lección duramente aprendida es que antes de aplicar las herramientas analíticas es preciso preparar los datos.
Lo que quiere decir que primero hay que eliminar los patrones de ruido, esas inconsistencias de las que hablamos.</p>
</div>
<div id="resumiendo" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Resumiendo<a class="anchor" aria-label="anchor" href="#resumiendo"><i class="fas fa-link"></i></a>
</h2>
<p>Las principales diferencias entre los sistemas transaccionales y los almacenes de datos son la velocidad, el espacio en disco y el propósito de uso.
Los sistemas transaccionales están diseñados para realizar operaciones como insert, delete y update lo más rápido posible.
Por su parte el DW está optimizado para ejecutar select masivos mucho más rápidamente a costa del espacio en disco que se utiliza. Además, es importante mantener el registro no modificable de todos los hechos guardados en él, en lugar de actualizar los datos se recomienda agregarlo nuevamente modificado.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="54%">
<col width="45%">
</colgroup>
<thead><tr class="header">
<th align="center">Aplicación transaccional (OLTP)</th>
<th align="center">DW</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">3ra forma normal</td>
<td align="center">2da forma normal para cada dimensión</td>
</tr>
<tr class="even">
<td align="center">Modelo de datos complicado y eficiente en almacenamiento</td>
<td align="center">Modelo de datos simple y redundante</td>
</tr>
<tr class="odd">
<td align="center">Se pierden los cambios</td>
<td align="center">No se registran cambios, se agrega información</td>
</tr>
<tr class="even">
<td align="center">Optimizado para la operación</td>
<td align="center">Optimizado para la lectura</td>
</tr>
</tbody>
</table></div>
</div>
<div id="arquitectura-de-un-almacén-de-datos" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Arquitectura de un almacén de datos<a class="anchor" aria-label="anchor" href="#arquitectura-de-un-almac%C3%A9n-de-datos"><i class="fas fa-link"></i></a>
</h2>
<p>A pesar de lo mencionado anteriormente, es importante aclarar que los almacenes de datos (o DW) no necesariamente representan una diferencia para el usuario final u operador, ya que en la mayoría de los casos, el sistema OLTP (o sistema transaccional) continúa siendo utilizado como fuente de datos; a su vez el DW almacena de forma redundante la información del OLTP con el objetivo de análisis y consulta de datos.</p>
<p>Entonces, un almacén de datos se integra por:</p>
<ul>
<li>Fuentes OLTP</li>
<li>ETL</li>
<li>Repositorio</li>
<li>Gestor de consultas</li>
<li>Herramientas de usuario final</li>
</ul>
<p>Las <u>aplicaciones OLTP</u>, como los ERP, CRM, SCM, son sistemas de procesamiento transaccional en línea que son esenciales para las operaciones de las organizaciones. Sin embargo, utilizar OLTP como almacén de datos es inconveniente debido a que las bases de datos relacionales que soportan nuestras aplicaciones están optimizadas para la rapidez con las que resuelven las transacciones operativas, pero no son adecuadas para realizar consultas masivas.</p>
<p>Para evitar este problema, el almacén de datos utiliza un <u>repositorio</u> en el que se guarda una copia de los datos y una <u>aplicación de ETL</u> que se encarga de extraer, transformar y cargar los datos del entorno operativo (OLTP) en el repositorio. La transformación incluye la limpieza de los datos.</p>
<p>El repositorio está optimizado para la lectura y es el núcleo del almacén de datos. El <u>Gestor de consultas</u> se encarga de tomar las peticiones de los usuarios finales y resolverlas consultando el repositorio. Finalmente, la <u>herramienta de usuario</u> final permite a los usuarios obtener distintas vistas de los datos sin tener que preocuparse por cómo están guardados.</p>

</div>
</div>
<script>
$( document ).ready(function() {
  var psyteachr = ' <a href="https://institutodatascience.org/" target="_blank"><img src="images/logos/idsa.png" style="height: 45px; color: white;" alt="Instituto Data Science Argentina" /></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr
  );

  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });

  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><div class="chapter-nav">
<div class="prev"><a href="index.html"><span class="header-section-number">1</span> Introducción a los algoritmos</a></div>
<div class="next"><a href="elementos-de-probabilidad-y-estad%C3%ADstica---parte-1.html"><span class="header-section-number">3</span> Elementos de probabilidad y estadística - Parte 1</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>Contenido del capítulo</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#dise%C3%B1o-y-construcci%C3%B3n-de-un-almac%C3%A9n-de-datos"><span class="header-section-number">2</span> Diseño y construcción de un almacén de datos</a></li>
<li><a class="nav-link" href="#antecedentes"><span class="header-section-number">2.1</span> Antecedentes</a></li>
<li><a class="nav-link" href="#resumiendo"><span class="header-section-number">2.2</span> Resumiendo</a></li>
<li><a class="nav-link" href="#arquitectura-de-un-almac%C3%A9n-de-datos"><span class="header-section-number">2.3</span> Arquitectura de un almacén de datos</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/facusoto/IDSA_R_Bookdown/blob/master/01-almacenes_datos.Rmd">Ver código fuente <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/facusoto/IDSA_R_Bookdown/edit/master/01-almacenes_datos.Rmd">Editar este capítulo <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Circular R</strong>" ha sido escrito por Instituto Data Science Argentina. Última actualización: 2023-05-03.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>Este libro fue construido con el paquete <a class="text-light" href="https://bookdown.org">bookdown</a> para R.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
